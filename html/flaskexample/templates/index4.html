const fs = require('fs');
const express = require('express');
const app = express();

// Endpoint to read the table from the file and display it
app.get('/readTable', (req, res) => {
  fs.readFile('data.txt', 'utf8', (err, data) => {
    if (err) {
      res.status(500).send('Error reading the file');
      return;
    }

    // Assuming the data is tabular and separated by newlines and tabs
    const rows = data.split('\n');
    const table = rows.map(row => row.split('\t')); // Assuming tab-separated values

    // Render the table in a simple HTML format
    let tableHtml = '<table>';
    table.forEach(row => {
      tableHtml += '<tr>';
      row.forEach(cell => {
        tableHtml += <td>${cell}</td>;
      });
      tableHtml += '</tr>';
    });
    tableHtml += '</table>';

    res.send(tableHtml);
  });
});

const PORT = 5002; // Define the port you want to use
app.listen(PORT, () => {
  console.log(Server is running on port ${PORT});
});
